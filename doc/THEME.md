# *Wordrobe* theme boilerplate
*Wordrobe* provides an optimized theme's folders structure that helps you to keep files well scoped and organized.

At its root, a *Wordrobe*'s theme directory looks like follows:
```
  /path/to/themes/your-theme/
  |-- assets/
  |-- controllers/
  |-- core/
  |-- templates/
  |-- functions.php
  |-- index.php
  |-- schema.json
  |-- screenshot.png
  `-- style.css
```
Before analyzing subdirectories, take a look at root's files:
* *functions.php*: takes care of theme's initialization, providing, among other things, the autoload of theme's features (look at "Core" section to learn more)
* *index.php*: the main application's controller (look at "Controllers" section for details)
* *schema.json*: an autogenerated configuration file containing all theme's features definition (check __*wordrobe/cli*__'s [commands list](./COMMANDS.md) to learn more)
* *screenshot.png*: the theme's cover image
* *style.css*: the theme's definition file

## Assets
The *assets* folder is for all distributed frontend files, such as images and other media, processed css, compiled javascript, etc.
When a new theme is created, its structure looks like follows:
```
  assets/
  |-- images/
  |-- main.css
  `-- main.js
```
:bulb: The *main.css* and *main.js* are included by default in the basic template file (look at "Templates" section for details), so keep in mind to modify that inclusion if you need to rename these files according to your frontend workflow.

## Controllers
The first *Wordrobe*'s architecture pillars is the __*controller/view pattern*__ implementation (check [documentation](./PATTERN.md) for details), that allows to keep business logic separate from layout code (look at "Templates" section to learn more about views).
So, all *PHP* files intended to retrieve data and to render a template according to a specific *HTTP* request are stored in this folder, that looks like follows:
```
  controllers/
  |-- 404.php
  |-- archive.php
  |-- author.php
  |-- category.php
  |-- home.php
  |-- index.php
  |-- page.php
  |-- post.php
  |-- search.php
  `-- tag.php
```
As you can see, while only page templates can be placed in a subdirectory of a standard *Wordpress* theme, the controllers folder can host the other *Wordpress* "templates files" too.

Another difference consists in the "single-" prefix dismissal for post-type related template files.

Keep reading to learn more about optimizations of templates location.

## Core
The *core* folder contains all theme's features files, the most of which are created automatically through *Wordrobe*'s commands.
Below the folder structure:
```
  core/
  |-- DTO/
  |-- Entity/
  |-- fields/
  |-- Helper/
  |-- menu/
  |-- post-types/
  |-- Repository/
  |-- services/
  |-- shortcodes/
  |-- taxonomies/
  |-- terms/
  `-- Theme.php
```
The *Theme.php* file is the entry point of application, deputed to handle theme's configuration, features autoload and other global stuff.

##### MENU, POST-TYPES, SERVICES, SHORTCODES, TAXONOMIES, TERMS
All these folders contain files deputed to handle features registration (in terms of *Wordpress*) through the use of *Wordrobe*'s factory classes.

##### ENTITY, REPOSITORY, DTO
The second *Wordrobe*'s architecture pillars is represented by the __*entity/repository/dto framework*__. Basically:
* *Entity*: provides a data model for a post-type or a page template 
* *Repository*: handles queries for a specific entity 
* *DTO*: helps to arrange and format entity data to be exposed outwards (to frontend, to api, etc)

Check [framework documentation](./FRAMEWORK.md) to learn more.

##### HELPER
The *Helper* folder is for global features/configurations handlers and, by default, contains the following files:
* *ACFManager.php*: handles *ACF* configurations
* *FeaturesLoader.php*: handles theme's features autoload
* *Router.php*: handles templates (re)location and some basic rewrite rules 
* *TinyMCEManager.php*: handles TinyMCE customizations

##### FIELDS
The *fields* folder is for *[ACF local json](https://www.advancedcustomfields.com/resources/local-json)* files used to autoload/autosave custom fields definitions (available with *ACF 5* only).

## Templates
As second part of __*controller/view pattern*__ implementation, the template files are intended to handle the visual representation of data provided by controllers and they're stored in this folder like follows:
```
  templates/
  |-- components/
  |-- views/
  `-- base.html.twig
```

##### COMPONENTS
A *component* is a partial template representing a layout block used to compose a *view*. The goal of a component-based approach is to keep code portions wrapped in dedicated files in order to simplify maintenance and reuse. 

##### VIEWS
In this context, a *view* represents a page template, composed by *components* and/or specific layout parts.

##### EXTENSIBLE LAYOUTS
Thanks to *Twig*, you can arrange *components* and other common parts (such as global styles, scripts, etc) in basic layouts that can be extended later. This way, you can define different layout models and use them whenever the same pattern occurs in you design without having to recreate the same code every time.
By default, a *Wordrobe* theme provides a single basic layout represented by *base.html.twig* file. It contains a standard *HTML5* page boilerplate, with extensible blocks definition and standard assets inclusion.